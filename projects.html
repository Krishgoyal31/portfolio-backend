<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krish Goyal - Projects</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Poppins:wght@300;400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
</head>
<body data-page="projects">
    <!-- Custom Cursor -->
    <div class="custom-cursor"></div>
    <div class="custom-cursor-follower"></div>

    <!-- Preloader -->
    <div id="preloader">
        <div class="preloader-text">
            <span class="char-k">K</span><span class="char-g">G</span>
        </div>
    </div>

    <!-- Page Transition Overlay -->
    <div id="page-transition-overlay"></div>

    <!-- Projects Page Background Animation Elements (Cosmic Drift) -->
    <div class="projects-animated-background">
        <span class="project-star star-1"></span>
        <span class="project-star star-2"></span>
        <span class="project-star star-3"></span>
        <span class="project-star star-4"></span>
        <span class="project-star star-5"></span>
        <span class="project-star star-6"></span>
        <span class="project-star star-7"></span>
        <span class="project-star star-8"></span>
        <span class="project-star star-9"></span>
        <span class="project-star star-10"></span>
        <span class="project-star star-11"></span>
        <span class="project-star star-12"></span>
        <span class="project-star star-13"></span>
        <span class="project-star star-14"></span>
        <span class="project-star star-15"></span>
        <span class="project-star star-16"></span>
        <span class="project-star star-17"></span>
        <span class="project-star star-18"></span>
        <span class="project-star star-19"></span>
        <span class="project-star star-20"></span>
        <span class="project-star star-21"></span>
        <span class="project-star star-22"></span>
        <span class="project-star star-23"></span>
        <span class="project-star star-24"></span>
        <span class="project-star star-25"></span>
        <span class="project-star star-26"></span>
        <span class="project-star star-27"></span>
        <span class="project-star star-28"></span>
        <span class="project-star star-29"></span>
        <span class="project-star star-30"></span>
        <span class="project-star star-31"></span>
        <span class="project-star star-32"></span>
        <span class="project-star star-33"></span>
        <span class="project-star star-34"></span>
        <span class="project-star star-35"></span>
        <span class="project-star star-36"></span>
        <span class="project-star star-37"></span>
        <span class="project-star star-38"></span>
        <span class="project-star star-39"></span>
        <span class="project-star star-40"></span>
        <span class="project-star star-41"></span>
        <span class="project-star star-42"></span>
        <span class="project-star star-43"></span>
        <span class="project-star star-44"></span>
        <span class="project-star star-45"></span>
        <span class="project-star star-46"></span>
        <span class="project-star star-47"></span>
        <span class="project-star star-48"></span>
        <span class="project-star star-49"></span>
        <span class="project-star star-50"></span>
        <span class="project-star star-51"></span>
        <span class="project-star star-52"></span>
        <span class="project-star star-53"></span>
        <span class="project-star star-54"></span>
        <span class="project-star star-55"></span>
        <span class="project-star star-56"></span>
        <span class="project-star star-57"></span>
        <span class="project-star star-58"></span>
        <span class="project-star star-59"></span>
        <span class="project-star star-60"></span>
        <span class="project-star star-61"></span>
        <span class="project-star star-62"></span>
        <span class="project-star star-63"></span>
        <span class="project-star star-64"></span>
        <span class="project-star star-65"></span>
        <span class="project-star star-66"></span>
        <span class="project-star star-67"></span>
        <span class="project-star star-68"></span>
        <span class="project-star star-69"></span>
        <span class="project-star star-70"></span>
        <span class="project-star star-71"></span>
        <span class="project-star star-72"></span>
        <span class="project-star star-73"></span>
        <span class="project-star star-74"></span>
        <span class="project-star star-75"></span>
        <span class="project-star star-76"></span>
        <span class="project-star star-77"></span>
        <span class="project-star star-78"></span>
        <span class="project-star star-79"></span>
        <span class="project-star star-80"></span>
        <span class="project-star star-81"></span>
        <span class="project-star star-82"></span>
        <span class="project-star star-83"></span>
        <span class="project-star star-84"></span>
        <span class="project-star star-85"></span>
        <span class="project-star star-86"></span>
        <span class="project-star star-87"></span>
        <span class="project-star star-88"></span>
        <span class="project-star star-89"></span>
        <span class="project-star star-90"></span>
        <span class="project-star star-91"></span>
        <span class="project-star star-92"></span>
        <span class="project-star star-93"></span>
        <span class="project-star star-94"></span>
        <span class="project-star star-95"></span>
        <span class="project-star star-96"></span>
        <span class="project-star star-97"></span>
        <span class="project-star star-98"></span>
        <span class="project-star star-99"></span>
        <span class="project-star star-100"></span>
        <span class="project-large-star large-star-1"></span>
        <span class="project-large-star large-star-2"></span>
        <span class="project-large-star large-star-3"></span>
        <span class="project-large-star large-star-4"></span>
        <span class="project-large-star large-star-5"></span>
    </div>

    <!-- Main Content -->
    <header class="main-header">
        <nav class="navbar">
            <a href="#" class="nav-logo" id="adminLoginTrigger">KG</a>
            <ul class="nav-links">
                <li><a href="index.html" class="nav-item" data-text="Home">Home</a></li>
                <li><a href="about.html" class="nav-item" data-text="About">About</a></li>
                <li><a href="projects.html" class="nav-item active" data-text="Projects">Projects</a></li>
                <li><a href="resume.html" class="nav-item" data-text="Resume">Resume</a></li>
                <li><a href="notifications.html" class="nav-item" data-text="Updates">Updates</a></li>
                <li><a href="contact.html" class="nav-item" data-text="Contact">Contact</a></li>
            </ul>
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </nav>
    </header>

    <main class="projects-page-content container">
        <section class="projects-hero section-spacing">
            <h2 class="section-title" data-aos="fade-right" data-aos-delay="200">
                <span class="title-accent"></span> My Projects
            </h2>
            <p class="section-subtitle" data-aos="fade-left" data-aos-delay="400">A collection of my work, showcasing creativity and technical skills.</p>
            <div id="projectCardsContainer" class="projects-grid">
                <!-- Project Cards will be loaded dynamically here -->
                <p class="section-subtitle no-projects-message">Loading projects...</p>
            </div>
        </section>
    </main>

    <!-- Back to Top Button -->
    <button id="back-to-top" class="glowing-back-to-top"><i class="fas fa-arrow-up"></i></button>

    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script src="assets/js/script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const projectCardsContainer = document.getElementById('projectCardsContainer');

            try {
                const response = await fetch(`${BASE_API_URL}/projects`);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const projects = await response.json();

                if (projects && projects.length > 0) {
                    projectCardsContainer.innerHTML = ''; // Clear existing static/loading projects

                    projects.forEach((project, index) => {
                        const projectCard = document.createElement('div');
                        projectCard.classList.add('project-card', 'glowing-border', 'glassmorphism');
                        projectCard.setAttribute('data-aos', 'fade-up');
                        projectCard.setAttribute('data-aos-delay', (index * 100 + 300).toString()); // Stagger delay

                        projectCard.innerHTML = `
                            <img src="${project.image}" alt="${project.title} Thumbnail" class="project-thumbnail">
                            <div class="project-info">
                                <h3>${project.title}</h3>
                                <p>${project.description}</p>
                                <div class="project-buttons">
                                    ${project.code ? `<a href="${project.code}" target="_blank" rel="noopener noreferrer" class="btn btn-code ripple-effect"><i class="fab fa-github"></i> View Code</a>` : ''}
                                    ${project.liveDemo ? `<a href="${project.liveDemo}" target="_blank" rel="noopener noreferrer" class="btn btn-demo ripple-effect"><i class="fas fa-external-link-alt"></i> Live Demo</a>` : ''}
                                </div>
                            </div>
                        `;
                        projectCardsContainer.appendChild(projectCard);
                    });
                    AOS.refresh(); // Refresh AOS to detect new elements
                } else {
                    projectCardsContainer.innerHTML = '<p class="section-subtitle no-projects-message">No projects yet. Check back soon!</p>';
                }
            } catch (error) {
                console.error('Error fetching projects:', error);
                projectCardsContainer.innerHTML = '<p class="section-subtitle no-projects-message">Failed to load projects. Please check the backend server.</p>';
            }
        });
    </script>
</body>
</html>